<!DOCTYPE html>
<html class="no-js" lang="zxx">

<head>    
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title> Ailng - Creative Consulting & Business Agency HTML Template </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Place favicon.ico in the root directory -->
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/logo/favicon.png">
    <!-- ========== Start Stylesheet ========== -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/fontawesome.min.css" rel="stylesheet" />
    <link href="assets/css/magnific-popup.css" rel="stylesheet" />
    <link href="assets/css/owl.carousel.min.css" rel="stylesheet" />
    <link href="assets/css/owl.theme.default.min.css" rel="stylesheet" />
    <link href="assets/css/animate.css" rel="stylesheet" />
    <link href="assets/css/bsnav.min.css" rel="stylesheet" />
    <link href="assets/css/flaticon-set.css" rel="stylesheet" />
    <link href="assets/css/slick.css" rel="stylesheet" />
    <link href="assets/css/themify-icons.css" rel="stylesheet" />
    <link href="assets/css/swiper-bundle.min.css" rel="stylesheet" />
    <link href="assets/css/icofont.min.css" rel="stylesheet" />    
    <link href="assets/css/splitting.css" rel="stylesheet" />    
    <link href="assets/css/splitting-cells.css" rel="stylesheet" />    
    <link href="style.css" rel="stylesheet">
    <link href="assets/css/responsive.css" rel="stylesheet" />


    <script>
        // Evitar retroceder en el historial del navegador
        history.pushState(null, null, location.href);
        window.addEventListener('popstate', function(event) {
            history.pushState(null, null, location.href);
        });
    </script>
    <!-- ========== End Stylesheet ========== -->
</head>




<body class="demo-1" id="bdy">        

    
    
<div class="theme_all_wrap" data-magic-cursor=" " data-color="crimson">

<!-- Document Wrapper   
=============================== -->
 <div id="main-wrapper"> 
    
    <!-- Header -->
    <header class="header">
        <div class="main-navigation">
            <div class="navbar navbar-expand-lg bsnav bsnav-sticky bsnav-sticky-slide bsnav-transparent">
                <div class="container">
                    <a class="navbar-brand" href="index.html">
                        <img src="assets/ImagenesProyecto/imgLogo.png" class="logo-display" alt="thumb">
                        <img src="assets/ImagenesProyecto/imgLogo.png" class="logo-scrolled" alt="thumb">
                    </a>
                    <button class="navbar-toggler toggler-spring">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-sm-end">
                        <ul class="navbar-nav navbar-mobile ml-auto">
                            <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                        
                        <li class="nav-item"><a class="nav-link" href="#">Caculadora</a></li>

                        <li class="nav-item"><a class="nav-link" href="#">Historial</a></li>	
                        </ul>
                    </div>
                </div>
            </div>
            <div class="bsnav-mobile">
                <div class="bsnav-mobile-overlay"></div>
                <div class="navbar"></div>
            </div>
        </div>
    </header>
    <!-- End header -->
    
    <div class="clearfix"></div>



    
    <main class="main">
        
        
        
        <!-- Start Service
        ============================================= -->
        <div class="service-area de-padding" style="background-image: url(assets/img/bg/bg-1.png)">
            <div class="container">
                <div class="row">
                    <div class="col-xl-8 offset-xl-2">
                        <div class="site-title text-center">
                            
                            <h2 data-splitting class="about-title mb-0 wow" data-wow-duration=".1s" data-wow-delay=".4s">
                                Realiza tus Calculos de
                                <br /> 
                                Medidas Corporales.
                            </h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Service -->
        




















        <!-- Formulario de datos para índices corporales
        ============================================= -->
        <div class="feature-service">



            <div class="container">
                

				<div class="feature-wpr grid-2">
					<div class="contact-left">
						<h2 data-splitting class="mb-50 wow" data-wow-duration=".1s" data-wow-delay=".4s">
							Ingresa tus datos <br />
							para calcular índices corporales <br />
                            <div class="container">
                                <br>
                                <h1></h1>
                                <h4>User id:</h4>
                                <h5><div id="user-id"></div></h5>
                                
                            </div>





						</h2>
					</div>
					<div class="contact-right wow fadeInUp" data-wow-duration="1s" data-wow-delay=".4s">
						<form class="contact-form" id="calculo-form">
							<div class="row g-4">
								<div class="col-md-6">
									<input type="number" name="peso" class="form-control input-style-2" placeholder="Peso (kg)" required>
								</div>
								<div class="col-md-6">
									<input type="number" name="altura" class="form-control input-style-2" placeholder="Altura (m)" step="0.01" required>
								</div>
								<div class="col-md-6">
									<input type="number" name="edad" class="form-control input-style-2" placeholder="Edad (años)" required>
								</div>
								<div class="col-md-6">
									<input type="number" name="cuello" class="form-control input-style-2" placeholder="Circunferencia de cuello (cm)" required>
								</div>
								<div class="col-md-6">
									<input type="number" name="cintura" class="form-control input-style-2" placeholder="Circunferencia de cintura (cm)" required>
								</div>
								<div class="col-md-6">
									<input type="number" name="cadera" class="form-control input-style-2" placeholder="Circunferencia de cadera (cm)" required>
								</div>
								<div class="col-md-6">
									<select name="genero" class="form-control input-style-2" required>
										<option value="">Seleccionar Género</option>
										<option value="masculino">Masculino</option>
										<option value="femenino">Femenino</option>
									</select>
								</div>
								<div class="col-12">
									<button type="submit" class="theme-btn mt-20">
										Calcular Índices
									</button>
								</div>
								

								

							</div>
							
						</form>

						
					</div>



					
					
					




				</div>



					
			



					
				<div class="resultado" style="margin-top: 50px;">
					<div class="row">
						<div class="col-xl-8 offset-xl-2">
							<div class="site-title text-center">
								<!-- Aquí es donde aparecerá el resultado -->
								<div id="resultado"></div>
							</div>
						</div>
					</div>
				</div>
				
					



















            </div>


			

        </div>
        <!-- Fin de formulario de datos -->
        
    </main>    
    
    
    
    <!-- Start Footer
	============================================= -->
	<footer>
		<div class="footer-shape">
			<img src="assets/img/footer/footer-bg.png" alt="thumb">
		</div>
		<div class="footer-widget">
			<div class="container">
				<div class="footer-widget-wrapper de-pb">
					<div class="row g-5">
						<div class="col-xl-5 col-sm-6 col-lg-6">
							<div class="footer-widget-box ab-us">
								<div><img src="assets/ImagenesProyecto/imgLogo.png" class="logo-display" alt="thumb"></div>
								<p class="mb-50">
									Informacion de la Empresa
								</p>
								<ul class="adr">
									<li>Direccion: Nueva Rosita 140, Lima 15001</li>
									<li>Telefono: +51 940598017</li>
									<li>Email: indicevital@gmail.com</li>
								</ul>
							</div>
						</div>
						<div class="col-xl-2 col-sm-6 col-lg-6">
							<div class="footer-widget-box">
								<h4 class="footer-widget-title">IndiceVital</h4>
								<ul class="footer-list">
									<li><a href="#">Home</a></li>
									<li><a href="#">Calculadora</a></li>
									
								</ul>
							</div>
						</div>
						<div class="col-xl-2 col-sm-6 col-lg-6">
							<div class="footer-widget-box">
								<h4 class="footer-widget-title">Conocenos</h4>
								<ul class="footer-list">
									<li><a href="#">Historia de la empresa</a></li>
									<li><a href="#">Misión y visión</a></li>
								</ul>
							</div>
						</div>
						<div class="col-xl-3 col-sm-6 col-lg-6">
							<div class="footer-widget-box footer-gallery">
								<h4 class="footer-widget-title"></h4>
								<div class="foter-img grid-2">
									<a href="#"><img src="assets/ImagenesProyecto/cuidatu.jpeg" alt="thumb"></a>
									<a href="#"><img src="assets/ImagenesProyecto/foot.png" alt="thumb"></a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="copyright">
					<p>© Derechos Reservados a IndiceVital</p>
					<ul class="footer-social">
					  <!--  <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
						<li><a href="#"><i class="fab fa-instagram"></i></a></li>
						<li><a href="#"><i class="fab fa-twitter"></i></a></li>
						<li><a href="#"><i class="fab fa-youtube"></i></a></li>
					</ul>-->
				</div> 
			</div>
		</div>
	</footer>	
	<!-- End Footer-->
    



    <!-- Start Scroll top
    ============================================= -->
    <a href="#bdy" id="scrtop" class="smooth-menu"><i class="ti-arrow-up"></i></a>
    <!-- End Scroll top-->

    <!-- CURSOR -->
        <div class="mouse-cursor cursor-outer"></div>
        <div class="mouse-cursor cursor-inner"></div>
        <!-- /CURSOR -->
    </div>    
</div>    <!-- Mouse Cursor End --> 








    
    <!-- jQuery Frameworks 
    ============================================= -->
    
    <script src=" assets/js/jquery-3.6.0.min.js"></script>
    <script src=" assets/js/bootstrap.min.js"></script>
    <script src=" assets/js/popper.min.js"></script>
    <script src=" assets/js/jquery.appear.js"></script>
    <script src=" assets/js/jquery.easing.min.js"></script>
    <script src=" assets/js/jquery.magnific-popup.min.js"></script>
    <script src=" assets/js/progress-bar.min.js"></script>
    <script src=" assets/js/modernizr.custom.13711.js"></script>
    <script src=" assets/js/owl.carousel.min.js"></script>
    <script src=" assets/js/wow.min.js"></script>
    <script src=" assets/js/isotope.pkgd.min.js"></script>
    <script src=" assets/js/imagesloaded.pkgd.min.js"></script>
    <script src=" assets/js/count-to.js"></script>
    <script src=" assets/js/swiper-bundle.min.js"></script>
    <script src=" assets/js/text.js"></script>
    <script src=" assets/js/YTPlayer.min.js"></script>
    <script src=" assets/js/slick.min.js"></script>
    <script src=" assets/js/bsnav.min.js"></script>
    <script src=" assets/js/splitting.min.js"></script>
    <script src=" assets/js/splitting-animation.js"></script>
    <script src=" assets/js/main.js"></script>
    
    <!-- Script para manejar el cálculo de IMC -->
    <script>
		$(document).ready(function() {
			$('#calculo-form').on('submit', function(event) {
				event.preventDefault();

				// Obtener valores del formulario
				var peso = parseFloat($('input[name="peso"]').val());
				var altura = parseFloat($('input[name="altura"]').val());
				var edad = parseInt($('input[name="edad"]').val());
				var cuello = parseFloat($('input[name="cuello"]').val());
				var cintura = parseFloat($('input[name="cintura"]').val());
				var cadera = parseFloat($('input[name="cadera"]').val());
				var genero = $('select[name="genero"]').val();

				// Validar que todos los campos estén llenos
				if (!peso || !altura || !edad || !cuello || !cintura || !cadera || !genero) {
					$('#resultado').html('<p class="alert alert-danger">Por favor completa todos los campos.</p>');
					return;
				}

				// Calcular índices corporales
				// Aquí puedes implementar los cálculos necesarios
				var imc = calcularIMC(peso, altura);
				var icc = calcularICC(cintura, cadera);
				var ica = calcularICA(edad, cuello, cintura, altura, genero);
				var mm = calcularMM(peso, altura, genero);
				var tmb = calcularTMB(peso, altura, edad, genero);
				var gc = calcularGC(imc, edad, genero);

					// Mostrar resultados
					$('#resultado').html(`
    <div style="display: flex; align-items: center;">
        <div style="flex: 1;">
            <img src="assets/ImagenesProyecto/foot.png" alt="foot" style="max-width: 200%; height: auto;">
        </div>
        <div style="flex: 2; padding-left: 150px;">
            <h4>Resultados:</h4>
            <p>IMC: ${imc.toFixed(2)}</p>
            <p>ICC: ${icc.toFixed(2)}</p>
            <p>ICA: ${ica.toFixed(2)}</p>
            <p>MM: ${mm.toFixed(2)}</p>
            <p>TMB: ${tmb.toFixed(2)}</p>
            <p>GC: ${gc.toFixed(2)}</p>
        </div>
    </div>
`);



                
        //   PONERRRRRRRRRRRR UN IF SI QUE EL ID RECIVIDO ES NULL PUES NO MANDAR OJO ESTOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO


                    // Enviar los datos calculados a index-2.php
        $.ajax({
            url: 'http://localhost/proyecto/php/index-2.php',
            type: 'POST',
            data: {
               // id: id,
                id: $('#user-id').text(), // Obtener el ID de usuario del elemento con id 'user-id'
              
                peso: peso,
                altura: altura,
                edad: edad,
                cuello: cuello,
                cintura: cintura,
                cadera: cadera,
                genero: genero,
                imc: imc,
                icc: icc,
                ica: ica,
                mm: mm,
                tmb: tmb,
                gc: gc
            },
            success: function(response) {
                console.log('Datos enviados exitosamente a index-2.php');
                // Aquí puedes manejar la respuesta si es necesario
            },
            error: function(xhr, status, error) {
                console.error('Error al enviar datos a index-2.php:', error);
                // Aquí puedes manejar el error si es necesario
            }
        });












			});

			// Funciones para calcular índices
			function calcularIMC(peso, altura) {
				return peso / (altura * altura);
			}

			function calcularICC(cintura, cadera) {
				return cintura / cadera;
			}

			function calcularICA(cintura, altura) {
            return cintura / altura;
        }

            function calcularMM(peso, altura, genero) {
            let mm;

            if (genero === 'masculino') {
                mm = (0.407 * peso) + (0.267 * altura) - 19.2;
            } else if (genero === 'femenino') {
                mm = (0.252 * peso) + (0.473 * altura) - 48.3;
            } else {
                throw new Error("Género no reconocido. Utilice 'masculino' o 'femenino'.");
            }

            return mm;
            }


			

                // Función para calcular la Tasa Metabólica Basal (TMB)
                function calcularTMB(peso, altura, edad, genero) {
                    let tbm;

                    if (genero === 'masculino') {
                        tbm = (10 * peso) + (6.25 * altura) - (5 * edad) + 5;
                    } else if (genero === 'femenino') {
                        tbm = (10 * peso) + (6.25 * altura) - (5 * edad) - 161;
                    }
                    return tbm;
                }



                // Función para calcular el Porcentaje de Grasa Corporal (GC)
                function calcularGC(imc, edad, genero) {
                    let sexoValue;
                    if (genero === 'masculino') {
                        sexoValue = 1.0;
                    } else if (genero === 'femenino') {
                        sexoValue = 0.0;
                    } 
                    return 1.2 * imc + 0.23 * edad - 10.8 * sexoValue - 5.4;
                }

                





                        
          

		});

        
	</script>

    

<script>
   // $(document).ready(function() {
        // Aquí puedes hacer una solicitud AJAX para obtener el ID de usuario desde PHP
   //     $.ajax({
   //         url: 'php/get_user_id.php',
   //         type: 'GET',
   //         dataType: 'json',
   //         success: function(response) {
   //             $('#user-id').text('ID de usuario: ' + response.user_id);
    //        },
   //         error: function() {
   //             $('#user-id').text('Error al obtener el ID de usuario');
    //        }
    //    });
  //  });
  $(document).ready(function() {
    var id; // Variable para almacenar el ID de usuario

    // Realizar la solicitud AJAX para obtener el ID de usuario
    $.ajax({
        url: 'php/get_user_id.php',
        type: 'GET',
        dataType: 'json',
        success: function(response) {
            if (response && response.user_id) {
                id = response.user_id; // Almacenar el ID de usuario en la variable 'id'
                $('#user-id').text('ID de usuario: ' + id); // Mostrar el ID de usuario en el HTML
            } else {
                $('#user-id').text('Registrese antes para guardar calculos'); // El ID de usuario es null o no está presente
            }
        },
        error: function() {
            $('#user-id').text('Registrese antes para guardar calculos'); // Error al obtener el ID de usuario
        }
    });

    // Ejemplo de uso posterior de la variable 'id'
    // Aquí puedes realizar más operaciones con el ID de usuario almacenado en 'id'
    // Por ejemplo:
    // console.log('ID de usuario obtenido:', id);
});

</script>










	
</body>

</html>
